{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Python Utilities Collection","text":"<p><code>pyutils</code> is a collection of handy routines and classes for Python apps.</p>"},{"location":"api/","title":"API Reference","text":"Page Info * pyutils.file_util File operations utilities. * pyutils.json_util JSON formatting utilities. * pyutils.kwargs kwargs utilities. * pyutils.log_util FileLogger class for managing file-based logging with archiving logs from previous runs. * pyutils.logging_util Redirect utility for logging module. * pyutils.pandas_util Pandas utility functions. * pyutils.str_util String utility functions. * pyutils.tool_util CLI Tool utilities."},{"location":"api/pyutils/file_util/","title":"pyutils.file_util","text":""},{"location":"api/pyutils/file_util/#pyutils.file_util","title":"pyutils.file_util","text":"<p>File operations utilities.</p>"},{"location":"api/pyutils/file_util/#pyutils.file_util.fbak","title":"fbak","text":"<pre><code>fbak(filename, archive_subdir=None, copy=False)\n</code></pre> <p>Back up a file by appending an incrementing suffix to its name. If the file exists, create a backup copy of a file by appending '-i' to its name (before extension). If filename-i.ext already exists, increment i until an unused filename is found.</p> <p>Parameters:</p> Name Type Description Default <code>filename</code> <code>str</code> <p>Path of the file to back up.</p> required <code>archive_subdir</code> <code>str</code> <p>Subdirectory to store the backup in. If provided, the subdirectory is created if it does not exist.</p> <code>None</code> <code>copy</code> <code>bool</code> <p>If True, copy the file; if False, rename (move) it.</p> <code>False</code>"},{"location":"api/pyutils/json_util/","title":"pyutils.json_util","text":""},{"location":"api/pyutils/json_util/#pyutils.json_util","title":"pyutils.json_util","text":"<p>JSON formatting utilities.</p> <p>JSON formatting utilities for converting Python objects to JSON strings with customizable formatting. This module provides functions to serialize Python objects, dictionaries, and lists to JSON format with support for:     - Custom indentation and base indentation levels     - String truncation for long values     - Template-based filtering of dictionary properties     - Regex pattern matching for dynamic property selection     - Pydantic model serialization</p> Key Functions <ul> <li>obj2JSON: Convert objects to JSON-serializable format</li> <li>as_json: Convert objects to formatted JSON strings with indentation control</li> <li>as_json_str_truncated: Convert objects to JSON with optional string truncation</li> <li>dict_as_json: Convert dictionaries to JSON with template-based filtering</li> <li>list_as_json: Convert lists to formatted JSON arrays</li> <li>patterns_from_template: Extract regex patterns from template dictionaries</li> <li>find_match_in_template: Search for exact or pattern matches in templates</li> </ul> Dependencies <ul> <li>typing: Type hints</li> <li>json: JSON serialization</li> <li>re: Regular expression pattern matching</li> <li>pyutils.str_util: String utility functions</li> <li>pyutils.kwargs: Keyword argument extraction</li> </ul>"},{"location":"api/pyutils/json_util/#pyutils.json_util.as_json","title":"as_json","text":"<pre><code>as_json(obj, **kwargs)\n</code></pre> <p>Convert a Python object to a JSON string with customizable indentation.</p> <p>Parameters:</p> Name Type Description Default <code>obj</code> <p>The Python object to be converted to JSON format.</p> required <code>**kwargs</code> <p>Optional keyword arguments: - base_indent (int): The base indentation level (number of spaces) to apply    to all lines. Default is 0. - indent (int): The number of spaces per indentation level. Default is 2.</p> <code>{}</code> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>A JSON-formatted string representation of the input object.</p> Notes <ul> <li>Uses json.dumps() with a custom obj2JSON serializer for handling non-standard types.</li> <li>If base_indent is greater than 0, all indentation in the output is adjusted    by adding base_indent spaces to each indented line.</li> </ul>"},{"location":"api/pyutils/json_util/#pyutils.json_util.dict_as_json","title":"dict_as_json","text":"<pre><code>dict_as_json(obj, **kwargs)\n</code></pre> <p>Convert a dictionary or Pydantic model to a formatted JSON string with optional filtering and truncation.</p> <p>Parameters:</p> Name Type Description Default <code>obj</code> <code>Dict</code> <p>A dictionary or Pydantic model object to convert to JSON string.</p> required <code>**kwargs</code> <p>Optional keyword arguments: - template (dict, optional): A dictionary specifying which properties to include and their string length limits.   Keys are property names, values are character limits for that property's string representation.   Defaults to None (all properties included). - base_indent (int, optional): Base indentation level in spaces. Defaults to 0. - indent (int, optional): Indentation step size in spaces. Defaults to 2.</p> <code>{}</code> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>A formatted JSON string representation of the object. Properties not included in the template  are hidden and their count is noted in a comment.</p> <p>Raises:</p> Type Description <code>TypeError</code> <p>If obj is neither a dict nor has a model_dump() method, or if the resulting object is not a dict.</p> Notes <ul> <li>Properties matching the template are included with specified string length limits.</li> <li>Non-matching properties are excluded and counted in a comment at the end.</li> <li>The output uses indentation for readability when indent &gt; 0.</li> <li>If no properties match the template, only \"{}\" is returned.</li> </ul>"},{"location":"api/pyutils/json_util/#pyutils.json_util.find_match_in_template","title":"find_match_in_template","text":"<pre><code>find_match_in_template(template, dict_item, patterns=None)\n</code></pre> <p>Search for a match of dict_item in template or patterns. First attempts to find an exact match of dict_item as a key in the template dictionary. If no exact match is found and patterns are provided, performs regex pattern matching against dict_item using the patterns dictionary keys.</p> <p>Parameters:</p> Name Type Description Default <code>template</code> <code>Dict</code> <p>Dictionary to search for exact key match.</p> required <code>dict_item</code> <code>str</code> <p>The key/string to search for in template or match against patterns.</p> required <code>patterns</code> <code>Dict</code> <p>Dictionary where keys are regex patterns to match against dict_item. Defaults to None.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>tuple</code> <code>tuple[bool, Any]</code> <p>A tuple of (bool, Any) where: - bool: True if a match is found (exact or pattern), False otherwise. - Any: The value from template or patterns if match is found, None otherwise.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; template = {\"key1\": \"value1\", \"key2\": \"value2\"}\n&gt;&gt;&gt; find_match_in_template(template, \"key1\")\n(True, \"value1\")\n&gt;&gt;&gt; patterns = {r\"key\\d\": \"numeric_value\"}\n&gt;&gt;&gt; find_match_in_template(template, \"key5\", patterns)\n(True, \"numeric_value\")\n&gt;&gt;&gt; find_match_in_template(template, \"unknown\")\n(False, None)\n</code></pre>"},{"location":"api/pyutils/json_util/#pyutils.json_util.list_as_json","title":"list_as_json","text":"<pre><code>list_as_json(l, **kwargs)\n</code></pre> <p>Convert a list to a formatted JSON string representation.</p> <p>Parameters:</p> Name Type Description Default <code>l</code> <code>List</code> <p>The list to convert to JSON format. Can be None or a non-list object.</p> required <code>**kwargs</code> <p>Optional keyword arguments: - to_json (callable): Custom function to convert objects to JSON strings.   Default: as_json with specified indentation.   Signature: to_json(obj, base_indent, indent) -&gt; str - base_indent (int): Base indentation level in spaces. Default: 0 - indent (int): Indentation increment in spaces. Default: 2</p> <code>{}</code> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>A formatted JSON string representation of the input.  - Returns \"None\" if input is None.  - If input is not a list, returns the JSON representation of that object.  - If input is a list, returns a bracketed JSON array with proper formatting    and indentation.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; list_as_json([1, 2, 3])\n'[\\n  1,\\n  2,\\n  3\\n]'\n&gt;&gt;&gt; list_as_json(None)\n'None'\n&gt;&gt;&gt; list_as_json(42)\n'42'\n</code></pre>"},{"location":"api/pyutils/json_util/#pyutils.json_util.obj2JSON","title":"obj2JSON","text":"<pre><code>obj2JSON(obj)\n</code></pre> <p>Convert a Python object to a JSON-serializable format.</p> <p>Parameters:</p> Name Type Description Default <code>obj</code> <p>The Python object to be converted.</p> required <p>Returns:</p> Name Type Description <code>Any</code> <p>A JSON-serializable representation of the object, using model_dump()   if available, otherwise its string representation.</p>"},{"location":"api/pyutils/json_util/#pyutils.json_util.patterns_from_template","title":"patterns_from_template","text":"<pre><code>patterns_from_template(template)\n</code></pre> <p>Extract regex patterns from a template dictionary. Filters a template dictionary and returns only the entries where the key is a compiled regular expression pattern (re.Pattern object).</p> <p>Parameters:</p> Name Type Description Default <code>template</code> <code>Dict</code> <p>A dictionary that may contain re.Pattern objects as keys.</p> required <p>Returns:</p> Name Type Description <code>Dict</code> <code>Dict</code> <p>A new dictionary containing only the key-value pairs where the key   is a re.Pattern object.</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; template = {\n...     re.compile(r'\\d+'): 'number',\n...     'name': 'value',\n...     re.compile(r'[a-z]+'): 'letters'\n... }\n&gt;&gt;&gt; result = patterns_from_template(template)\n&gt;&gt;&gt; len(result)\n2\n</code></pre>"},{"location":"api/pyutils/kwargs/","title":"pyutils.kwargs","text":""},{"location":"api/pyutils/kwargs/#pyutils.kwargs","title":"pyutils.kwargs","text":"<p>kwargs utilities.</p>"},{"location":"api/pyutils/kwargs/#pyutils.kwargs.getKwarg","title":"getKwarg","text":"<pre><code>getKwarg(kwargs, arg, default=False)\n</code></pre> <p>Retrieve a keyword argument from kwargs dict.</p> <p>Parameters:</p> Name Type Description Default <code>kwargs</code> <code>dict</code> <p>The dictionary of keyword arguments.</p> required <code>arg</code> <code>str</code> <p>The key to look for.</p> required <code>default</code> <code>any</code> <p>The default value to return if the key is not found. Defaults to False.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>any</code> <p>The value of the keyword argument or the default value.</p>"},{"location":"api/pyutils/log_util/","title":"pyutils.log_util","text":""},{"location":"api/pyutils/log_util/#pyutils.log_util","title":"pyutils.log_util","text":"<p>FileLogger class for managing file-based logging with archiving logs from previous runs.</p>"},{"location":"api/pyutils/log_util/#pyutils.log_util.FileLogger","title":"FileLogger","text":"<p>FileLogger class for managing file-based logging with archiving logs from previous runs. This class provides functionality to log messages to a file with support for archiving previous log files and optional console output.</p> <p>Attributes:</p> Name Type Description <code>ARCHIVE_DIR</code> <code>str</code> <p>Directory where archived log files are stored.</p> <code>LOG_FILE_NAME</code> <code>str</code> <p>Full path to the log file.</p> <code>FILE</code> <code>file object</code> <p>Open file handle for writing logs, or None if not initialized.</p> <p>Methods:</p> <pre><code>__init__(**kwargs): Initialize the FileLogger with configuration parameters.\n\n    Args:\n        logDir (str, optional): Directory where log file is created. Defaults to the directory of __main__.\n        logArchiveDir (str, optional): Subdirectory for archived logs. Defaults to 'archive'.\n        logBaseName (str, optional): Base name for the log file. Defaults to the name of __main__.\n        logNameSuffix (str, optional): Suffix to append to log file name. Defaults to None.\n        logExt (str, optional): File extension for log file. Defaults to '.log'.\n\nprint(s: str, **kwargs): Write a message to the log file.\n\n    Args:\n        s (str): Message to log.\n        echo (bool, optional): If True, also print to console. Defaults to False.\n        section (bool, optional): If True, format as a section header. Defaults to False.\n        sectionWidth (int, optional): Width of section header. Defaults to 80.\n        sectionFillChar (str, optional): Character to fill section header. Defaults to '='.\n\necho(s: str, **kwargs): Write a message to both log file and console.\n\n    Args:\n        s (str): Message to log and print.\n        **kwargs: Additional arguments passed to print().\n\nclose(): Close the log file and archive it.\n</code></pre>"},{"location":"api/pyutils/log_util/#pyutils.log_util.FileLogger.__init__","title":"__init__","text":"<pre><code>__init__(**kwargs)\n</code></pre> <p>Initialize the logger with configurable log directory and file settings.</p> <p>Parameters:</p> Name Type Description Default <code>**kwargs</code> <p>Arbitrary keyword arguments: logDir (str, optional): Directory where log files are stored.      Defaults to the directory of the main module. logArchiveDir (str, optional): Subdirectory for archived log files.      Defaults to 'archive'. logBaseName (str, optional): Base name for the log file.      Defaults to the name of the main module file (without extension). logNameSuffix (str, optional): Suffix to append to the log file name.      Defaults to None. logExt (str, optional): File extension for the log file.      Defaults to '.log'.</p> <code>{}</code> <p>Returns:</p> Type Description <code>None</code> <p>None</p> <p>Attributes:</p> Name Type Description <code>ARCHIVE_DIR</code> <code>str</code> <p>Directory path for archived log files.</p> <code>LOG_FILE_NAME</code> <code>str</code> <p>Full path to the log file.</p> <code>FILE</code> <code>file object</code> <p>File handle for writing to the log file, or None if  LOG_FILE_NAME is not set.</p> Note <ul> <li>Creates a backup of the existing log file using fbak() and archives it.</li> <li>Opens the log file in append mode with UTF-8 encoding.</li> </ul>"},{"location":"api/pyutils/log_util/#pyutils.log_util.FileLogger.close","title":"close","text":"<pre><code>close()\n</code></pre> <p>Close the file handler and archive the log file. Closes the currently open log file if it exists and creates a backup archive of the log file in the designated archive directory.</p> <p>Returns:</p> Type Description <code>None</code> <p>None</p>"},{"location":"api/pyutils/log_util/#pyutils.log_util.FileLogger.echo","title":"echo","text":"<pre><code>echo(s, **kwargs)\n</code></pre> <p>Print a string to the console and log it.</p> <p>Parameters:</p> Name Type Description Default <code>s</code> <code>str</code> <p>The string to print and log.</p> required <code>**kwargs</code> <p>Additional keyword arguments to pass to the print method.      The 'echo' parameter will be set to True automatically.</p> <code>{}</code>"},{"location":"api/pyutils/log_util/#pyutils.log_util.FileLogger.print","title":"print","text":"<pre><code>print(s, **kwargs)\n</code></pre> <p>Print a message to file and/or console.</p> <p>Parameters:</p> Name Type Description Default <code>s</code> <code>str</code> <p>The message string to print.</p> required <code>**kwargs</code> <p>Optional keyword arguments: echo (bool, optional): If True, also print to console. Defaults to False. section (bool, optional): If True, format the message as a section header. Defaults to False. sectionWidth (int, optional): Width of the section header. Defaults to 80. sectionFillChar (str, optional): Character to use for filling the section header. Defaults to '='.</p> <code>{}</code> <p>Returns:</p> Type Description <code>None</code> <p>None</p>"},{"location":"api/pyutils/logging_util/","title":"pyutils.logging_util","text":""},{"location":"api/pyutils/logging_util/#pyutils.logging_util","title":"pyutils.logging_util","text":"<p>Redirect utility for logging module.</p>"},{"location":"api/pyutils/logging_util/#pyutils.logging_util.loggging_redirect","title":"loggging_redirect","text":"<pre><code>loggging_redirect(file, logger_names, **kwargs)\n</code></pre> <p>Redirect logging output from specified loggers to a file or stream. This function configures one or more loggers to output their messages to a specified file or stream handler. It allows customization of logging level and formatter.</p> <p>Parameters:</p> Name Type Description Default <code>file</code> <code>IO[str] | str</code> <p>Destination for log output. Can be a file path (str) or a file-like object (IO[str]). If a string is provided, logs are appended to the file at that path. If a file object is provided, logs are written to that stream.</p> required <code>logger_names</code> <code>List</code> <p>List of logger names to configure. These loggers will be set to use the specified handler and will not propagate messages to parent loggers.</p> required <code>**kwargs</code> <p>Optional keyword arguments: - level (int): Logging level for the handler and loggers.    Defaults to logging.INFO. - formatter (logging.Formatter): Custom formatter for log messages.   If None, no formatter is applied. Defaults to None.</p> <code>{}</code> <p>Returns:</p> Type Description <code>None</code> <p>None</p> <p>Examples:</p> <pre><code>&gt;&gt;&gt; loggging_redirect('app.log', ['myapp', 'myapp.module'], level=logging.DEBUG)\n&gt;&gt;&gt; loggging_redirect(sys.stdout, ['myapp'], formatter=logging.Formatter(\"%(name)s: %(message)s\"))\n</code></pre>"},{"location":"api/pyutils/pandas_util/","title":"pyutils.pandas_util","text":""},{"location":"api/pyutils/pandas_util/#pyutils.pandas_util","title":"pyutils.pandas_util","text":"<p>Pandas utility functions.</p>"},{"location":"api/pyutils/pandas_util/#pyutils.pandas_util.dict2DF","title":"dict2DF","text":"<pre><code>dict2DF(d, columns)\n</code></pre> <p>Converts dict into Pandas DataFrame for nice viewing.</p> <p>Parameters:</p> Name Type Description Default <code>d</code> <code>dict</code> <p>dict.</p> required <p>Returns:</p> Type Description <code>DataFrame</code> <p>pd.DataFrame: A DataFrame object.</p>"},{"location":"api/pyutils/pandas_util/#pyutils.pandas_util.tuples2DF","title":"tuples2DF","text":"<pre><code>tuples2DF(tuples, columns)\n</code></pre> <p>Converts list of tuples into Pandas DataFrame for nice viewing.</p> <p>Parameters:</p> Name Type Description Default <code>tuples</code> <code>list</code> <p>list of tuples.</p> required <p>Returns:</p> Type Description <code>DataFrame</code> <p>pd.DataFrame: A DataFrame object.</p>"},{"location":"api/pyutils/str_util/","title":"pyutils.str_util","text":""},{"location":"api/pyutils/str_util/#pyutils.str_util","title":"pyutils.str_util","text":"<p>String utility functions.</p>"},{"location":"api/pyutils/str_util/#pyutils.str_util.truncate_string","title":"truncate_string","text":"<pre><code>truncate_string(s, max_length=100)\n</code></pre> <p>Truncate a string to a maximum length, adding '...[more n chars]' if truncated..</p> <p>Parameters:</p> Name Type Description Default <code>s</code> <code>str</code> <p>The string to truncate.</p> required <code>max_length</code> <code>int</code> <p>The maximum length of the string before truncation.</p> <code>100</code> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The truncated string.</p>"},{"location":"api/pyutils/tool_util/","title":"pyutils.tool_util","text":""},{"location":"api/pyutils/tool_util/#pyutils.tool_util","title":"pyutils.tool_util","text":"<p>CLI Tool utilities. This module provides basic utilities for command-line tools, including:     - Command line invocation     - Home directory path     - Command-line arguments     - Tool name     - Usage information callback</p> <p>Functions:</p> Name Description <code>getCmd</code> <p>Returns the full command line invocation.</p> <code>getHomeDir</code> <p>Returns the tool's home directory.</p> <code>getArgV</code> <p>Returns the command-line arguments.</p> <code>setUsagePrintProc</code> <p>callable) -&gt; None: Sets the callback for printing usage.</p> <code>printUsage</code> <p>Invokes the usage print callback if set.</p> <code>setToolShortName</code> <p>str) -&gt; None: Sets the tool's short name.</p> <code>getToolShortName</code> <p>Returns the tool's short name.</p>"},{"location":"api/pyutils/tool_util/#pyutils.tool_util.getArgV","title":"getArgV","text":"<pre><code>getArgV()\n</code></pre> <p>Retrieve the global command-line arguments list.</p> <p>Returns:</p> Name Type Description <code>list</code> <p>The global argv variable containing command-line arguments.</p>"},{"location":"api/pyutils/tool_util/#pyutils.tool_util.getCmd","title":"getCmd","text":"<pre><code>getCmd()\n</code></pre> <p>Retrieve the global command variable.</p> <p>Returns:</p> Type Description <p>The current value of the global cmd variable.</p>"},{"location":"api/pyutils/tool_util/#pyutils.tool_util.getHomeDir","title":"getHomeDir","text":"<pre><code>getHomeDir()\n</code></pre> <p>Retrieve the home directory path. This function returns the global home_dir variable that contains the path to the user's home directory.</p> <p>Returns:</p> Name Type Description <code>str</code> <p>The path to the home directory.</p>"},{"location":"api/pyutils/tool_util/#pyutils.tool_util.getToolShortName","title":"getToolShortName","text":"<pre><code>getToolShortName()\n</code></pre> <p>Get the short name of the current tool.</p> <p>Returns:</p> Name Type Description <code>str</code> <p>The short name of the tool if it is set, otherwise returns an empty string.</p>"},{"location":"api/pyutils/tool_util/#pyutils.tool_util.printUsage","title":"printUsage","text":"<pre><code>printUsage()\n</code></pre> <p>Print the usage information for the application. Retrieves and executes the global usage function if it has been defined. This function serves as a wrapper to display usage/help information to the user.</p> <p>Raises:</p> Type Description <code>NameError</code> <p>If the global 'usage' variable has not been defined before calling this function.</p>"},{"location":"api/pyutils/tool_util/#pyutils.tool_util.setToolShortName","title":"setToolShortName","text":"<pre><code>setToolShortName(name)\n</code></pre> <p>Set the global tool variable to the provided short name.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>The short name to assign to the global tool variable.</p> required <p>Returns:</p> Type Description <p>None</p>"},{"location":"api/pyutils/tool_util/#pyutils.tool_util.setUsagePrintProc","title":"setUsagePrintProc","text":"<pre><code>setUsagePrintProc(p)\n</code></pre> <p>Set the global usage print procedure. This function allows you to configure a custom procedure that will be called to print usage information. The provided procedure replaces the default usage printing behavior.</p> <p>Parameters:</p> Name Type Description Default <code>p</code> <p>A callable that implements the usage printing logic. This procedure will be invoked whenever usage information needs to be displayed.</p> required <p>Returns:</p> Type Description <p>None</p>"}]}